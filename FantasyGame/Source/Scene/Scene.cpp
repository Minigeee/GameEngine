#include <Scene/Scene.h>

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

Scene::Scene() :
	mEngine			(0),
	mAmbientColor	(0.1f)
{

}

Scene::~Scene()
{

}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

void Scene::Create(Engine* engine)
{
	mEngine = engine;

	mRenderer.Init();
	mRenderer.SetScene(this);

	OnCreate();
}

///////////////////////////////////////////////////////////////////////////////

void Scene::Delete()
{
	OnDelete();
}

///////////////////////////////////////////////////////////////////////////////

void Scene::Update(float dt)
{
	static float time = 0.0f;
	time += dt;

	float x = sin(time * 1.5f) * 4.0f;
	mCamera.SetPosition(x, 4.0f, 10.0f);

	mRenderer.Render();
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

Camera& Scene::GetCamera()
{
	return mCamera;
}

Vector3f& Scene::GetAmbient()
{
	return mAmbientColor;
}

DirLight& Scene::GetDirLight()
{
	return mDirLight;
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

void Scene::OnCreate()
{

}

void Scene::OnDelete()
{

}

///////////////////////////////////////////////////////////////////////////////